{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u6211\\u7684\\u5C0F\\u53EF\\u7231\\\\Desktop\\\\miaomiao\\\\catEyes\\\\src\\\\views\\\\cinema\\\\Shows.js\";\n// 影院详情页\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport { cheange_wh, afterShow } from \"../../common/tool\";\nimport Swiper from \"swiper/dist/js/swiper\";\nimport \"swiper/dist/css/swiper.min.css\";\nimport { getCinemaDetail } from \"../../store/actions/Cinema\";\nimport Headers from \"../../components/Headers\";\nimport address_icon from \"../../assets/images/address.png\";\nimport \"../../assets/css/cinema/shows.css\";\n\nclass Shows extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dateShowKey: 0\n    };\n  }\n\n  handlerChangeDateShowKey(e, k) {\n    e.preventDefault();\n    this.setState({\n      dateShowKey: k\n    });\n  }\n\n  componentDidMount() {\n    this.props.getCinemaDetail();\n  }\n\n  componentDidUpdate() {\n    new Swiper('.swiper-container', {\n      effect: 'coverflow',\n      slidesPerView: 3,\n      centeredSlides: true,\n      coverflowEffect: {\n        rotate: 0,\n        stretch: 20,\n        depth: 0,\n        modifier: 2,\n        slideShadows: false\n      }\n    });\n  }\n\n  render() {\n    let posts = this.props.posts;\n\n    if (JSON.stringify(posts) === \"{}\") {\n      return null;\n    } else {\n      return React.createElement(\"div\", {\n        className: \"shows\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(Headers, {\n        to: \"/cinema/shows/\" + posts.cinemaId,\n        label: posts.cinemaData.nm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cinema_data_wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/cinema/cinemadetail/\" + posts.cinemaId,\n        className: \"cinema_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cinema_msg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"cinema_name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, posts.cinemaData.nm), React.createElement(\"p\", {\n        className: \"cinema_address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, posts.cinemaData.addr))), React.createElement(\"a\", {\n        href: \"https://3gimg.qq.com/lightmap/v1/marker/index.html?marker=coord%3A\" + posts.cinemaData.lat + \"%2C\" + posts.cinemaData.lng + \"%3Btitle%3A\" + posts.cinemaData.nm + \"%3Baddr%3A\" + posts.cinemaData.addr + \"&%24from=canary&key=TKUBZ-D24AF-GJ4JY-JDVM2-IBYKK-KEBCU&referer=wepiao&ch=uri-api&ADTAG=uri-api.wepiao#\",\n        className: \"address_icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: address_icon,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"cinema_movie\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"swiper-container cinema_movie_img_list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"swiper-wrapper cinema_movie_img_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, posts.showData.movies.map((v, k) => {\n        return React.createElement(\"div\", {\n          key: v.id,\n          className: \"swiper-slide cinema_movie_img\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: cheange_wh(v.img, 65.95),\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }));\n      }))), React.createElement(\"div\", {\n        className: \"cinema_movie_list_bg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"cinema_movie_list_bg_img\",\n        style: {\n          backgroundImage: 'url(' + (cheange_wh(posts.showData.movies[0].img, \"375.525\") + \")\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"cinema_movie_detail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cinema_movie_info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cinema_movie_name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, posts.showData.movies[0].nm), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, posts.showData.movies[0].sc, \"\\u5206\")), React.createElement(\"div\", {\n        className: \"cinema_movie_desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, posts.showData.movies[0].desc))), React.createElement(\"div\", {\n        className: \"show_movies\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"shows_day\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, posts.showData.movies[0].shows.map((item, k) => {\n        return React.createElement(NavLink, {\n          to: \"#\",\n          key: k,\n          onClick: e => this.handlerChangeDateShowKey(e, k),\n          className: this.state.dateShowKey === k ? \"active\" : null,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, item.dateShow);\n      })), posts.showData.hasOwnProperty(\"vipInfo\") ? React.createElement(\"div\", {\n        className: \"shows_vipInfo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, posts.showData.vipInfo.map((v, k) => {\n        return (// 会员卡有链接后期改为Link\n          React.createElement(\"div\", {\n            key: k,\n            className: \"shows_vipInfo_item\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, v.tag), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }, v.title), React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          }, v.process, \" >\"))\n        );\n      })) : null, React.createElement(\"div\", {\n        className: \"shows_plist\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, posts.showData.movies[0].shows[this.state.dateShowKey].plist.map((v, k) => {\n        return React.createElement(\"div\", {\n          key: k,\n          className: \"shows_plist_item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"shows_plist_item_time\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, v.tm), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, afterShow(v.tm, posts.showData.movies[0].dur), \" \\u6563\\u573A\")), React.createElement(\"div\", {\n          className: \"shows_plist_item_msg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, v.lang, \" \", v.tp ? v.tp : \"\"), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, v.th)), React.createElement(\"div\", {\n          className: \"shows_plist_item_price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"shows_plist_item_vipPrice\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, \"\\uFFE5\", v.vipPrice ? v.vipPrice / 1 + 5 : 39), v.vipPriceName ? React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, v.vipPriceName) : null, v.vipPrice ? React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, \"\\uFFE5\", v.vipPrice) : null), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, v.vipPriceNameNew, \"\\u7279\\u60E0\")), React.createElement(Link, {\n          to: \"#\",\n          className: \"shows_plist_item_buy\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, \"\\u8D2D\\u7968\"));\n      })), React.createElement(\"div\", {\n        className: \"show_movies_deallist\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"show_movies_deallist_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"\\u5F71\\u9662\\u8D85\\u503C\\u5957\\u9910\"), posts.dealList.dealList.map((v, k) => {\n        return React.createElement(Link, {\n          to: \"#\",\n          key: k,\n          className: \"show_movies_deallist_item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"show_movies_deallist_item_img\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: cheange_wh(v.imageUrl, 92.92),\n          alt: \"\",\n          style: {\n            width: \"92px\",\n            height: \"92px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }), v.cardTag ? React.createElement(\"span\", {\n          className: \"show_hot\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, v.cardTag) : null), React.createElement(\"div\", {\n          className: \"show_movies_deallist_item_r\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"show_movies_deallist_item_r_title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, v.recommendPersonNum === 1 ? \"单人\" : \"双人\"), v.title), React.createElement(\"div\", {\n          className: \"show_movies_deallist_item_price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, \"\\uFFE5\", v.price), React.createElement(\"div\", {\n          className: \"show_movies_deallist_item_sell\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, v.curNumberDesc), React.createElement(\"div\", {\n          className: \"show_movies_deallist_item_r_button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, \"\\u53BB\\u8D2D\\u4E70\")));\n      })))));\n    }\n  }\n\n} // 存在问题：1.购票未实现 2.购买食品未实现 3.会员卡未实现（折扣）\n\n\nconst mapStateTpProps = state => ({\n  posts: state.posts.item\n});\n\nexport default connect(mapStateTpProps, {\n  getCinemaDetail\n})(Shows);","map":{"version":3,"sources":["C:\\Users\\我的小可爱\\Desktop\\miaomiao\\catEyes\\src\\views\\cinema\\Shows.js"],"names":["React","Component","connect","Link","NavLink","cheange_wh","afterShow","Swiper","getCinemaDetail","Headers","address_icon","Shows","constructor","props","state","dateShowKey","handlerChangeDateShowKey","e","k","preventDefault","setState","componentDidMount","componentDidUpdate","effect","slidesPerView","centeredSlides","coverflowEffect","rotate","stretch","depth","modifier","slideShadows","render","posts","JSON","stringify","cinemaId","cinemaData","nm","addr","lat","lng","showData","movies","map","v","id","img","backgroundImage","sc","desc","shows","item","dateShow","hasOwnProperty","vipInfo","tag","title","process","plist","tm","dur","lang","tp","th","vipPrice","vipPriceName","vipPriceNameNew","dealList","imageUrl","width","height","cardTag","recommendPersonNum","price","curNumberDesc","mapStateTpProps"],"mappings":"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","sourcesContent":["// 影院详情页\r\nimport React, { Component } from 'react'\r\nimport { connect } from \"react-redux\"\r\nimport { Link,NavLink } from \"react-router-dom\"\r\nimport { cheange_wh,afterShow } from \"../../common/tool\"\r\nimport Swiper from \"swiper/dist/js/swiper\"\r\nimport \"swiper/dist/css/swiper.min.css\"\r\n\r\nimport { getCinemaDetail } from \"../../store/actions/Cinema\"\r\nimport Headers from \"../../components/Headers\"\r\nimport address_icon from \"../../assets/images/address.png\"\r\nimport \"../../assets/css/cinema/shows.css\"\r\n\r\nclass Shows extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            dateShowKey : 0\r\n        }\r\n    }\r\n    handlerChangeDateShowKey(e,k){\r\n        e.preventDefault()\r\n        this.setState({\r\n            dateShowKey : k\r\n        })\r\n    }\r\n    componentDidMount(){\r\n        this.props.getCinemaDetail()\r\n    }\r\n    componentDidUpdate(){\r\n        new Swiper('.swiper-container',{\r\n            effect : 'coverflow',\r\n            slidesPerView: 3,\r\n            centeredSlides: true,\r\n            coverflowEffect: {\r\n              rotate: 0,\r\n              stretch: 20,\r\n              depth: 0,\r\n              modifier: 2,\r\n              slideShadows : false\r\n            },\r\n        })\r\n    }\r\n    render() {\r\n        let { posts } = this.props\r\n        if(JSON.stringify(posts) === \"{}\"){\r\n            return(\r\n                null\r\n            )\r\n        }\r\n        else{\r\n           return (\r\n                <div className=\"shows\">\r\n                    <Headers to={\"/cinema/shows/\"+posts.cinemaId} label={posts.cinemaData.nm}></Headers>\r\n                    <div className=\"main\">\r\n                        <div className=\"cinema_data_wrap\">\r\n                            <Link to={\"/cinema/cinemadetail/\"+posts.cinemaId} className=\"cinema_data\">\r\n                                <div className=\"cinema_msg\">\r\n                                    <p className=\"cinema_name\">\r\n                                        {posts.cinemaData.nm}\r\n                                    </p>\r\n                                    <p className=\"cinema_address\">\r\n                                        {posts.cinemaData.addr}\r\n                                    </p>\r\n                                </div>\r\n                            </Link>\r\n                            {/* 地址 */}\r\n                            <a \r\n                                href={\"https://3gimg.qq.com/lightmap/v1/marker/index.html?marker=coord%3A\"+\r\n                                posts.cinemaData.lat+\"%2C\"+posts.cinemaData.lng+\r\n                                \"%3Btitle%3A\"+posts.cinemaData.nm+\r\n                                \"%3Baddr%3A\"+posts.cinemaData.addr+\r\n                                \"&%24from=canary&key=TKUBZ-D24AF-GJ4JY-JDVM2-IBYKK-KEBCU&referer=wepiao&ch=uri-api&ADTAG=uri-api.wepiao#\"}\r\n                                className=\"address_icon\">\r\n                                <img src={address_icon} alt=\"\"/>\r\n                            </a>\r\n                        </div>\r\n                        <div className=\"cinema_movie\">\r\n                            <div className=\"swiper-container cinema_movie_img_list\">\r\n                                <div className=\"swiper-wrapper cinema_movie_img_wrapper\">\r\n                                        {posts.showData.movies.map((v,k)=>{\r\n                                            return(\r\n                                                <div key={v.id} className=\"swiper-slide cinema_movie_img\">\r\n                                                    <img src={cheange_wh(v.img,65.95)} alt=\"\"/>\r\n                                                </div>\r\n                                            )\r\n                                        })}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"cinema_movie_list_bg\"></div>\r\n                            <div className=\"cinema_movie_list_bg_img\" \r\n                                style={{backgroundImage:'url('+\r\n                                (cheange_wh(posts.showData.movies[0].img,\"375.525\")+\r\n                                \")\")}}>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"cinema_movie_detail\">\r\n                            <div className=\"cinema_movie_info\">\r\n                                <div className=\"cinema_movie_name\">\r\n                                    <h3>{posts.showData.movies[0].nm}</h3>\r\n                                    <p>{posts.showData.movies[0].sc}分</p>\r\n                                </div>\r\n                                <div className=\"cinema_movie_desc\">\r\n                                    {posts.showData.movies[0].desc}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"show_movies\">\r\n                            {/* 放映日期 */}\r\n                            <div className=\"shows_day\">\r\n                                {posts.showData.movies[0].shows.map((item,k) => {\r\n                                    return(\r\n                                        <NavLink \r\n                                            to=\"#\"\r\n                                            key={k}\r\n                                            onClick={(e) => this.handlerChangeDateShowKey(e,k)}\r\n                                            className={this.state.dateShowKey === k ? \"active\" : null}\r\n                                            >{item.dateShow}\r\n                                        </NavLink>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                            {/* 折扣 */}\r\n                            {posts.showData.hasOwnProperty(\"vipInfo\")?\r\n                                <div className=\"shows_vipInfo\">\r\n                                    {posts.showData.vipInfo.map((v,k)=>{\r\n                                        return(\r\n                                            // 会员卡有链接后期改为Link\r\n                                            <div\r\n                                                key={k} className=\"shows_vipInfo_item\">\r\n                                                <div>{v.tag}</div>\r\n                                                <p>{v.title}</p>\r\n                                                <span>{v.process} ></span>\r\n                                            </div>\r\n                                        )\r\n                                    })}\r\n                                </div>\r\n                            :null}\r\n                            {/* 电影场次 */}\r\n                            <div className=\"shows_plist\">\r\n                                {posts.showData.movies[0].shows[this.state.dateShowKey].plist.map((v,k)=>{\r\n                                    return(\r\n                                        <div key={k} className=\"shows_plist_item\">\r\n                                            <div className=\"shows_plist_item_time\">\r\n                                                <p>{v.tm}</p>\r\n                                                <span>{afterShow(v.tm,posts.showData.movies[0].dur)} 散场</span>\r\n                                            </div>\r\n                                            <div className=\"shows_plist_item_msg\">\r\n                                                <p>{v.lang} {v.tp?v.tp:\"\"}</p>\r\n                                                <span>{v.th}</span>\r\n                                            </div>\r\n                                            <div className=\"shows_plist_item_price\">\r\n                                                <div className=\"shows_plist_item_vipPrice\">\r\n                                                    <p>￥{v.vipPrice?v.vipPrice/1+5:39}</p>\r\n                                                    {v.vipPriceName?<span>{v.vipPriceName}</span>:null}\r\n                                                    {v.vipPrice?<b>￥{v.vipPrice}</b>:null}\r\n                                                </div>\r\n                                                <span>{v.vipPriceNameNew}特惠</span>\r\n                                            </div>\r\n                                            <Link to=\"#\" className=\"shows_plist_item_buy\">购票</Link>\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                            {/* 影院超值套餐 */}\r\n                            <div className=\"show_movies_deallist\">\r\n                                <div className=\"show_movies_deallist_title\">\r\n                                    影院超值套餐\r\n                                </div>\r\n                                {posts.dealList.dealList.map((v,k) => {\r\n                                    return(\r\n                                        <Link to=\"#\" key={k} className=\"show_movies_deallist_item\">\r\n                                            <div className=\"show_movies_deallist_item_img\">\r\n                                                <img src={cheange_wh(v.imageUrl,92.92)} alt=\"\" style={{width:\"92px\",height:\"92px\"}}/>\r\n                                                {v.cardTag ? <span className=\"show_hot\">{v.cardTag}</span> : null}\r\n                                            </div>\r\n                                            <div className=\"show_movies_deallist_item_r\">\r\n                                                <div className=\"show_movies_deallist_item_r_title\">\r\n                                                    <span>{v.recommendPersonNum === 1 ? \"单人\" : \"双人\"}</span>\r\n                                                    {v.title}\r\n                                                </div>\r\n                                                <div className=\"show_movies_deallist_item_price\">\r\n                                                    ￥{v.price}\r\n                                                </div>\r\n                                                <div className=\"show_movies_deallist_item_sell\">\r\n                                                    {v.curNumberDesc}\r\n                                                </div>\r\n                                                <div className=\"show_movies_deallist_item_r_button\">去购买</div>\r\n                                            </div>\r\n                                        </Link>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            \r\n            ) \r\n        } \r\n    }\r\n}\r\n\r\n// 存在问题：1.购票未实现 2.购买食品未实现 3.会员卡未实现（折扣）\r\n\r\nconst mapStateTpProps = state =>({\r\n    posts : state.posts.item\r\n})\r\nexport default connect(mapStateTpProps,{ getCinemaDetail })(Shows) "]},"metadata":{},"sourceType":"module"}