{"ast":null,"code":"import { GET_ALL_CINEMA_LIST, GET_CINEMA_DETAIL, GET_CINEMA_DATA, GET_CHOOSE_CARD_MSG, GET_MORE_CINEMA_LIST } from '../../actions/actionTypes';\nimport { dataNow } from \"../../../common/tool\"; // 获取影院列表\n\nexport const getAllCinemaList = ({\n  day = dataNow(),\n  offset = 0,\n  districtId = -1,\n  lineId = -1,\n  hallType = -1,\n  brandId = -1,\n  serviceId = -1,\n  areaId = -1,\n  stationId = -1,\n  cityId = localStorage.cityId ? localStorage.cityId : 1\n} = {}) => dispatch => {\n  fetch(\"maoyan/ajax/cinemaList?day=\" + day + \"&offset=\" + offset + \"&limit=20&districtId=\" + districtId + \"&lineId=\" + lineId + \"&hallType=\" + hallType + \"&brandId=\" + brandId + \"&serviceId=\" + serviceId + \"&areaId=\" + areaId + \"&stationId=\" + stationId + \"&item=&updateShowDay=true&reqId=1564794495376&cityId=\" + cityId).then(res => res.json()).then(posts => dispatch({\n    type: GET_ALL_CINEMA_LIST,\n    payload: posts\n  }));\n}; // 获取影院详情\n\nlet cinemaId = window.location.pathname.split(\"/\")[3];\nexport const getCinemaDetail = (id = cinemaId) => dispatch => {\n  fetch(\"/maoyan/ajax/cinemaDetail?cinemaId=\" + id).then(res => res.json()).then(post => dispatch({\n    type: GET_CINEMA_DETAIL,\n    payload: post\n  }));\n};\nexport const getCinemaData = (id = cinemaId) => dispatch => {\n  fetch(\"/maoyan/ajax/cinemaAjaxDetail?cinemaId=\" + cinemaId).then(res => res.json()).then(data => dispatch({\n    type: GET_CINEMA_DATA,\n    payload: data\n  }));\n}; // 获取全城/品牌/特色内容\n\nexport const getChooseCard = (id = 1) => dispatch => {\n  fetch(\"/maoyan/ajax/filterCinemas?ci=\" + id).then(res => res.json()).then(cardList => dispatch({\n    type: GET_CHOOSE_CARD_MSG,\n    payload: cardList\n  }));\n}; // 获取更多影院\n\nexport const getMoreCinema = ({\n  day = dataNow(),\n  offset = 0,\n  districtId = -1,\n  lineId = -1,\n  hallType = -1,\n  brandId = -1,\n  serviceId = -1,\n  areaId = -1,\n  stationId = -1,\n  cityId = localStorage.cityId ? localStorage.cityId : 1\n} = {}) => dispatch => {\n  fetch(\"maoyan/ajax/cinemaList?day=\" + day + \"&offset=\" + offset + \"&limit=20&districtId=\" + districtId + \"&lineId=\" + lineId + \"&hallType=\" + hallType + \"&brandId=\" + brandId + \"&serviceId=\" + serviceId + \"&areaId=\" + areaId + \"&stationId=\" + stationId + \"&item=&updateShowDay=true&reqId=1564794495376&cityId=\" + cityId).then(res => res.json()).then(seats => dispatch({\n    type: GET_MORE_CINEMA_LIST,\n    payload: seats\n  }));\n}; // export const createPost = postData => dispatch => {\n//   console.log(\"createPost\");\n//   fetch(\"https://jsonplaceholder.typicode.com/posts\", {\n//     method: \"POST\",\n//     headers: {\n//       \"content-type\": \"application/json\"\n//     },\n//     body: JSON.stringify(postData)\n//   })\n//     .then(res => res.json())\n//     .then(post =>\n//       dispatch({\n//         type: NEW_POST,\n//         payload: post\n//       })\n//     )\n// }","map":{"version":3,"sources":["C:\\Users\\我的小可爱\\Desktop\\miaomiao\\catEyes\\src\\store\\actions\\Cinema\\index.js"],"names":["GET_ALL_CINEMA_LIST","GET_CINEMA_DETAIL","GET_CINEMA_DATA","GET_CHOOSE_CARD_MSG","GET_MORE_CINEMA_LIST","dataNow","getAllCinemaList","day","offset","districtId","lineId","hallType","brandId","serviceId","areaId","stationId","cityId","localStorage","dispatch","fetch","then","res","json","posts","type","payload","cinemaId","window","location","pathname","split","getCinemaDetail","id","post","getCinemaData","data","getChooseCard","cardList","getMoreCinema","seats"],"mappings":"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","sourcesContent":["import { GET_ALL_CINEMA_LIST,GET_CINEMA_DETAIL,GET_CINEMA_DATA,GET_CHOOSE_CARD_MSG,GET_MORE_CINEMA_LIST } from '../../actions/actionTypes';\r\nimport { dataNow } from \"../../../common/tool\"\r\n\r\n// 获取影院列表\r\nexport const getAllCinemaList = \r\n  ({day=dataNow(),offset=0,districtId=-1,lineId=-1,hallType=-1,brandId=-1,serviceId=-1,areaId=-1,stationId=-1,cityId=localStorage.cityId?localStorage.cityId:1}={}) => dispatch => {\r\n  fetch(\"maoyan/ajax/cinemaList?day=\"+\r\n  day+\r\n  \"&offset=\"+\r\n  offset+\r\n  \"&limit=20&districtId=\"+\r\n  districtId+\r\n  \"&lineId=\"+\r\n  lineId+\r\n  \"&hallType=\"+\r\n  hallType+\r\n  \"&brandId=\"+\r\n  brandId+\r\n  \"&serviceId=\"+\r\n  serviceId+\r\n  \"&areaId=\"+\r\n  areaId+\r\n  \"&stationId=\"+\r\n  stationId+\r\n  \"&item=&updateShowDay=true&reqId=1564794495376&cityId=\"+\r\n  cityId)\r\n    .then(res => res.json())\r\n    .then(posts =>\r\n      dispatch({\r\n        type: GET_ALL_CINEMA_LIST,\r\n        payload: posts\r\n      })\r\n    )\r\n    \r\n}\r\n\r\n// 获取影院详情\r\n let cinemaId = window.location.pathname.split(\"/\")[3]\r\nexport const getCinemaDetail = (id=cinemaId) => dispatch => {\r\n  fetch(\"/maoyan/ajax/cinemaDetail?cinemaId=\"+id)\r\n  .then(res => res.json())\r\n  .then(post =>\r\n    dispatch({\r\n      type : GET_CINEMA_DETAIL,\r\n      payload :post\r\n    }))\r\n}\r\n\r\nexport const getCinemaData = (id=cinemaId) => dispatch =>{\r\n  fetch(\"/maoyan/ajax/cinemaAjaxDetail?cinemaId=\"+cinemaId)\r\n  .then(res =>res.json())\r\n  .then(data =>\r\n    dispatch({\r\n      type : GET_CINEMA_DATA,\r\n      payload : data\r\n    }))\r\n}\r\n\r\n// 获取全城/品牌/特色内容\r\nexport const getChooseCard = (id=1) => dispatch =>{\r\n  fetch(\"/maoyan/ajax/filterCinemas?ci=\"+id)\r\n  .then(res => res.json())\r\n  .then(cardList =>\r\n    dispatch({\r\n      type : GET_CHOOSE_CARD_MSG,\r\n      payload : cardList\r\n    }))\r\n}\r\n\r\n// 获取更多影院\r\nexport const getMoreCinema = \r\n({day=dataNow(),offset=0,districtId=-1,lineId=-1,hallType=-1,brandId=-1,serviceId=-1,areaId=-1,stationId=-1,cityId=localStorage.cityId?localStorage.cityId:1}={}) => dispatch => {\r\n  fetch(\"maoyan/ajax/cinemaList?day=\"+\r\n  day+\r\n  \"&offset=\"+\r\n  offset+\r\n  \"&limit=20&districtId=\"+\r\n  districtId+\r\n  \"&lineId=\"+\r\n  lineId+\r\n  \"&hallType=\"+\r\n  hallType+\r\n  \"&brandId=\"+\r\n  brandId+\r\n  \"&serviceId=\"+\r\n  serviceId+\r\n  \"&areaId=\"+\r\n  areaId+\r\n  \"&stationId=\"+\r\n  stationId+\r\n  \"&item=&updateShowDay=true&reqId=1564794495376&cityId=\"+\r\n  cityId)\r\n  .then(res => res.json())\r\n  .then(seats => \r\n    dispatch({\r\n      type:GET_MORE_CINEMA_LIST,\r\n      payload:seats\r\n    }))\r\n}\r\n\r\n\r\n// export const createPost = postData => dispatch => {\r\n//   console.log(\"createPost\");\r\n//   fetch(\"https://jsonplaceholder.typicode.com/posts\", {\r\n//     method: \"POST\",\r\n//     headers: {\r\n//       \"content-type\": \"application/json\"\r\n//     },\r\n//     body: JSON.stringify(postData)\r\n//   })\r\n//     .then(res => res.json())\r\n//     .then(post =>\r\n//       dispatch({\r\n//         type: NEW_POST,\r\n//         payload: post\r\n//       })\r\n//     )\r\n// }"]},"metadata":{},"sourceType":"module"}